<?xml version="1.0"?>

<build subject="base" stage="03" envpath="/bin:/usr/bin:/tools/bin:/tools/sbin" chroot="yes">

	<phase seq="1">
	
		<entry name="linux-4.4.6" type="package/src" seq="1" cdto="yes" download="no" extract="yes">
		    <filename>linux-4.4.6.tar.xz</filename>
		    <version>4.4.6</version>
		    <checksum type="md5">efc822dad2149e40cc908718a4fea1d3</checksum>
            <action when="after" seq="1">
                <line verbos="yes">make mrproper</line>
                
                <line verbos="yes">make INSTALL_HDR_PATH=dest headers_install</line>
                <line verbos="yes">find dest/include \( -name .install -o -name ..install.cmd \) -delete</line>
                <line verbos="yes">cp -rv dest/include/* /usr/include</line>
            </action>
		</entry>
		
		<entry name="man-pages-4.07" type="package/src" seq="2" cdto="yes" download="no" extract="yes">
		    <filename>man-pages-4.07.tar.xz</filename>
		    <version>4.07</version>
		    <checksum type="md5">6d6c59b83431852ba44930785def30d4</checksum>
            <action when="after" seq="1">
                <line verbos="yes">make install</line>
            </action>
		</entry>
		
		<entry name="glibc-2.24" type="package/src" seq="3" cdto="yes" download="no" extract="yes">
		    <filename>glibc-2.24.tar.xz</filename>
		    <version>4.07</version>
		    <checksum type="md5">97dc5517f92016f3d70d83e3162ad318</checksum>
            <action when="after" seq="1">
                <line verbos="yes">patch -Np1 -i $PROJECT__PKG/glibc-2.24-fhs-1.patch</line>
                <line>mkdir -v build</line>
                <line>cd build</line>
                <line verbos="yes">
                	../configure                 \
                		--prefix=/usr            \
						--enable-kernel=2.6.32   \
						--enable-obsolete-rpc
				</line>
				<line verbos="yes">make</line>
				<line verbos="yes">touch /etc/ld.so.conf</line>
				<line verbos="yes">make install</line>
				<line verbos="yes">cp -v ../nscd/nscd.conf /etc/nscd.conf</line>
				<line verbos="yes">mkdir -pv /var/cache/nscd</line>
				<line verbos="yes">install -v -Dm644 ../nscd/nscd.tmpfiles /usr/lib/tmpfiles.d/nscd.conf</line>
				<line verbos="yes">install -v -Dm644 ../nscd/nscd.service /lib/systemd/system/nscd.service</line>
            </action>
            
            <action when="after" seq="2" comment="Instructions will install the minimum set of locales necessary">
            	<line>mkdir -pv /usr/lib/locale</line>
				<line>localedef -i cs_CZ -f UTF-8 cs_CZ.UTF-8</line>
				<line>localedef -i de_DE -f ISO-8859-1 de_DE</line>
				<line>localedef -i de_DE@euro -f ISO-8859-15 de_DE@euro</line>
				<line>localedef -i de_DE -f UTF-8 de_DE.UTF-8</line>
				<line>localedef -i en_GB -f UTF-8 en_GB.UTF-8</line>
				<line>localedef -i en_HK -f ISO-8859-1 en_HK</line>
				<line>localedef -i en_PH -f ISO-8859-1 en_PH</line>
				<line>localedef -i en_US -f ISO-8859-1 en_US</line>
				<line>localedef -i en_US -f UTF-8 en_US.UTF-8</line>
				<line>localedef -i es_MX -f ISO-8859-1 es_MX</line>
				<line>localedef -i fa_IR -f UTF-8 fa_IR</line>
				<line>localedef -i fr_FR -f ISO-8859-1 fr_FR</line>
				<line>localedef -i fr_FR@euro -f ISO-8859-15 fr_FR@euro</line>
				<line>localedef -i fr_FR -f UTF-8 fr_FR.UTF-8</line>
				<line>localedef -i it_IT -f ISO-8859-1 it_IT</line>
				<line>localedef -i it_IT -f UTF-8 it_IT.UTF-8</line>
				<line>localedef -i ja_JP -f EUC-JP ja_JP</line>
				<line>localedef -i ru_RU -f KOI8-R ru_RU.KOI8-R</line>
				<line>localedef -i ru_RU -f UTF-8 ru_RU.UTF-8</line>
				<line>localedef -i tr_TR -f UTF-8 tr_TR.UTF-8</line>
				<line>localedef -i zh_CN -f GB18030 zh_CN.GB18030</line>
				
				<line>make localedata/install-locales</line>
            </action>
            
            <action when="after" seq="3" comment="Adding nsswitch.conf">
				cat > /etc/nsswitch.conf &lt;&lt;-EOF
				# Begin /etc/nsswitch.conf
				passwd: files
				group: files
				shadow: files
				hosts: files dns
				networks: files
				protocols: files
				services: files
				ethers: files
				rpc: files
				# End /etc/nsswitch.conf
				
				EOF
            </action>
            
            <action when="after" seq="4" comment="Adding time zone data">
                <line>tar -xf $PROJECT__PKG/tzdata2016f.tar.gz</line>
                <line>ZONEINFO=/usr/share/zoneinfo</line>
                <line>mkdir -pv $ZONEINFO/{posix,right}</line>
                <line>
					for tz in etcetera southamerica northamerica europe africa antarctica asia australasia backward pacificnew systemv; do
						zic -L /dev/null -d $ZONEINFO -y "sh yearistype.sh" ${tz}
						zic -L /dev/null -d $ZONEINFO/posix -y "sh yearistype.sh" ${tz}
						zic -L leapseconds -d $ZONEINFO/right -y "sh yearistype.sh" ${tz}
					done
                </line>
				<line verbos="yes">cp -v zone.tab zone1970.tab iso3166.tab $ZONEINFO</line>
				<line verbos="yes">zic -d $ZONEINFO -p America/New_York</line>
				<line>unset ZONEINFO</line>
            </action>
            
            <action when="after" seq="5" comment="Selecting timezone">
                <line verbos="yes">ln -sfv /usr/share/zoneinfo/$PROJECT__TIMEZONE /etc/localtime</line>
            </action>
            
			<action when="after" seq="6" comment="Configuring the Dynamic Loader">
				<line verbos="yes">
					cat > /etc/ld.so.conf &lt;&lt;-EOF
					# Begin /etc/ld.so.conf
					/usr/local/lib
					/opt/lib
					# Add an include directory
					include /etc/ld.so.conf.d/*.conf
					EOF
				</line>
				<line>mkdir -pv /etc/ld.so.conf.d</line>
			</action>
            
            <action when="after" seq="7" comment="Adjusting the Toolchain">
                <line>mv -v /tools/bin/{ld,ld-old}</line>
                <line>mv -v /tools/$(uname -m)-pc-linux-gnu/bin/{ld,ld-old}</line>
                <line>mv -v /tools/bin/{ld-new,ld}</line>
                <line>ln -sv /tools/bin/ld /tools/$(uname -m)-pc-linux-gnu/bin/ld</line>
				<line verbos="yes">
					gcc -dumpspecs | sed -e 's@/tools@@g'				     \
						-e '/\*startfile_prefix_spec:/{n;s@.*@/usr/lib/ @}'  \
						-e '/\*cpp:/{n;s@$@ -isystem /usr/include@}' >		 \
						`dirname $(gcc --print-libgcc-file-name)`/specs
				</line>
            </action>
		</entry>
		
		<entry name="zlib-1.2.8" type="package/src" seq="4" cdto="yes" download="no" extract="yes">
		    <filename>zlib-1.2.8.tar.xz</filename>
		    <version>1.2.8</version>
		    <checksum type="md5">28f1205d8dd2001f26fec1e8c2cebe37</checksum>
            <action when="after" seq="1">
                <line verbos="yes">./configure --prefix=/usr</line>
                <line verbos="yes">make</line>
                <line verbos="yes">make install</line>
				<line verbos="yes">mv -v /usr/lib/libz.so.* /lib</line>
   				<line>cd $PROJECT__RFS</line>
				<line verbos="yes">ln -sfv /lib/$(readlink ./usr/lib/libz.so) ./usr/lib/libz.so</line>
            </action>
		</entry>
		
		<entry name="file-5.28" type="package/src" seq="5" cdto="yes" download="no" extract="yes">
		    <filename>file-5.28.tar.gz</filename>
		    <version>4.07</version>
		    <checksum type="md5">3f7771424aa855f32094b49571e19b33</checksum>
            <action when="after" seq="1">
                <line verbos="yes">./configure --prefix=/usr</line>
                <line verbos="yes">make</line>
                <line verbos="yes">make install</line>
            </action>
		</entry>
		
		<entry name="binutils-2.27" type="package/src" seq="6" cdto="yes" download="no" extract="yes">
		    <filename>binutils-2.27.tar.bz2</filename>
		    <version>2.27</version>
		    <checksum type="md5">2869c9bf3e60ee97c74ac2a6bf4e9d68</checksum>
            <action when="after" seq="1">
            	<line>mkdir -v build</line>
            	<line>cd build</line>
            	<line verbos="yes">
					../configure          \
						--prefix=/usr     \
						--enable-shared   \
						--disable-werror
            	</line>
                <line verbos="yes">make tooldir=/usr</line>
                <line verbos="yes">make tooldir=/usr install</line>
            </action>
		</entry>
		
		<entry name="gmp-6.1.1" type="package/src" seq="7" cdto="yes" download="no" extract="yes">
		    <filename>gmp-6.1.1.tar.xz</filename>
		    <version>6.1.1</version>
		    <checksum type="md5">e70e183609244a332d80529e7e155a35</checksum>
            <action when="after" seq="1">
            	<line verbos="yes">
					./configure                             \
						--prefix=/usr                       \
						--enable-cxx                        \
						--disable-static                    \
						--docdir=/usr/share/doc/gmp-6.1.1
            	</line>
                <line verbos="yes">make</line>
                <line verbos="yes">make html</line>
                <line verbos="yes">make install</line>
                <line verbos="yes">make install-html</line>
            </action>
		</entry>
		
		<entry name="mpfr-3.1.4" type="package/src" seq="8" cdto="yes" download="no" extract="yes">
		    <filename>mpfr-3.1.4.tar.xz</filename>
		    <version>6.1.1</version>
		    <checksum type="md5">064b2c18185038e404a401b830d59be8</checksum>
            <action when="after" seq="1">
            	<line verbos="yes">
					./configure                             \
						--prefix=/usr                       \
						--disable-static                    \
						--enable-thread-safe                \
						--docdir=/usr/share/doc/mpfr-3.1.4
            	</line>
                <line verbos="yes">make</line>
                <line verbos="yes">make html</line>
                <line verbos="yes">make install</line>
                <line verbos="yes">make install-html</line>
            </action>
		</entry>
		
		<entry name="mpc-1.0.3" type="package/src" seq="9" cdto="yes" download="no" extract="yes">
		    <filename>mpc-1.0.3.tar.gz</filename>
		    <version>1.0.3</version>
		    <checksum type="md5">d6a1d5f8ddea3abd2cc3e98f58352d26</checksum>
            <action when="after" seq="1">
            	<line verbos="yes">
            		./configure                              \
            			--with-mpfr-lib=/usr/lib64           \
            			--with-mpfr-include=/usr/include     \
            			--enable-shared                      \
            			--disable-static                     \
            			--prefix=/usr                        \
            			--docdir=/usr/share/doc/mpc-1.0.3
            	</line>
                <line verbos="yes">make</line>
                <line verbos="yes">make html</line>
                <line verbos="yes">make install</line>
                <line verbos="yes">make install-html</line>
            </action>
		</entry>
		
		<entry name="gcc-6.2.0" type="package/src" seq="10" cdto="yes" download="no" extract="yes">
		    <filename>gcc-6.2.0.tar.bz2</filename>
		    <version>6.2.0</version>
		    <checksum type="md5">9768625159663b300ae4de2f4745fcc4</checksum>
            <action when="after" seq="1">
            	<line>mkdir -v build</line>
            	<line>cd build</line>
				<line verbos="yes">
					SED=sed                               \
					../configure                          \
						--prefix=/usr                     \
						--enable-languages=c,c++          \
						--disable-multilib                \
						--disable-bootstrap               \
						--with-system-zlib
				</line>
                <line verbos="yes">make &amp;&amp; make install</line>

				<line verbos="yes">ln -sv ../usr/bin/cpp /lib</line>
				<line verbos="yes">ln -sv gcc /usr/bin/cc</line>

				<line verbos="yes">install -v -dm755 /usr/lib/bfd-plugins</line>

				<line verbos="yes">ln -sfv ../../libexec/gcc/$(gcc -dumpmachine)/6.2.0/liblto_plugin.so /usr/lib/bfd-plugins/</line>
				<line>mkdir -pv /usr/share/gdb/auto-load/usr/lib</line>
				<line verbos="yes">mv -v /usr/lib64/*gdb.py /usr/share/gdb/auto-load/usr/lib</line>
            </action>
		</entry>
		
		<entry name="bzip2-1.0.6" type="package/src" seq="11" cdto="yes" download="no" extract="yes">
		    <filename>bzip2-1.0.6.tar.gz</filename>
		    <version>1.0.6</version>
		    <checksum type="md5">00b516f4704d4a7cb50a1d97e6e8e15b</checksum>
            <action when="after" seq="1">
            	<line verbos="yes">patch -Np1 -i $PROJECT__PKG/bzip2-1.0.6-install_docs-1.patch</line>
            	<line verbos="yes">sed -i 's@\(ln -s -f \)$(PREFIX)/bin/@\1@' Makefile</line>
				<line verbos="yes">sed -i "s@(PREFIX)/man@(PREFIX)/share/man@g" Makefile</line>
				<line verbos="yes">make -f Makefile-libbz2_so</line>
				<line verbos="yes">make clean</line>
				<line verbos="yes">make</line>
				<line verbos="yes">make PREFIX=/usr install</line>
				<line verbos="yes">cp -v bzip2-shared /bin/bzip2</line>
				<line verbos="yes">cp -av libbz2.so* /lib</line>
				<line verbos="yes">ln -sv ../../lib/libbz2.so.1.0 /usr/lib/libbz2.so</line>
				<line verbos="yes">rm -v /usr/bin/{bunzip2,bzcat,bzip2}</line>
				<line verbos="yes">ln -sv bzip2 /bin/bunzip2</line>
				<line verbos="yes">ln -sv bzip2 /bin/bzcat</line>
            </action>
		</entry>
		
		<entry name="pkg-config-0.29.1" type="package/src" seq="12" cdto="yes" download="no" extract="yes">
		    <filename>pkg-config-0.29.1.tar.gz</filename>
		    <version>0.29.1</version>
		    <checksum type="md5">f739a28cae4e0ca291f82d1d41ef107d</checksum>
            <action when="after" seq="1">
            	<line verbos="yes">
					./configure                                    \
						--prefix=/usr                              \
						--with-internal-glib                       \
						--disable-compile-warnings                 \
						--disable-host-tool                        \
						--docdir=/usr/share/doc/pkg-config-0.29.1
            	</line>
                <line verbos="yes">make &amp;&amp; make install</line>
            </action>
		</entry>
		
		<entry name="ncurses-6.0" type="package/src" seq="13" cdto="yes" download="no" extract="yes">
		    <filename>ncurses-6.0.tar.gz</filename>
		    <version>6.0</version>
		    <checksum type="md5">ee13d052e1ead260d7c28071f46eefb1</checksum>
            <action when="after" seq="1">
            	<line verbos="yes">sed -i '/LIBTOOL_INSTALL/d' c++/Makefile.in</line>
            	<line verbos="yes">
					./configure                   \
						--prefix=/usr             \
						--mandir=/usr/share/man   \
						--with-shared             \
						--without-debug           \
						--without-normal          \
						--enable-pc-files         \
						--enable-widec
            	</line>
                <line verbos="yes">make &amp;&amp; make install</line>
				<line verbos="yes">mv -v /usr/lib64/libncursesw.so.6* /lib64</line>
				<line verbos="yes">ln -sfv ../../lib64/$(readlink /usr/lib64/libncursesw.so) /usr/lib64/libncursesw.so</line>
				<line verbos="yes">
					for lib in ncurses form panel menu ; do
						rm -vf                         /usr/lib/lib${lib}.so
						echo "INPUT(-l${lib}w)" >      /usr/lib/lib${lib}.so
						ln -sfv ${lib}w.pc             /usr/lib/pkgconfig/${lib}.pc
					done
				</line>
				<line verbos="yes">rm -vf /usr/lib64/libcursesw.so</line>
				<line verbos="yes">echo "INPUT(-lncursesw)" > /usr/lib64/libcursesw.so</line>
				<line verbos="yes">ln -sfv ./libncurses.so /usr/lib64/libcurses.so</line>
				
				<line verbos="yes">mkdir -vp /usr/share/doc/ncurses-6.0</line>
				<line verbos="yes">cp -v -R doc/* /usr/share/doc/ncurses-6.0</line>
            </action>
		</entry>
		
		<entry name="attr-2.4.47" type="package/src" seq="14" cdto="yes" download="no" extract="yes">
		    <filename>attr-2.4.47.src.tar.gz</filename>
		    <version>2.4.47</version>
		    <checksum type="md5">84f58dec00b60f2dc8fd1c9709291cc7</checksum>
            <action when="after" seq="1">
            	<line verbos="yes">sed -i -e 's|/@pkg_name@|&amp;-@pkg_version@|' include/builddefs.in</line>
				<line verbos="yes">sed -i -e "/SUBDIRS/s|man[25]||g" man/Makefile</line>
				<line verbos="yes">./configure --prefix=/usr --disable-static</line>
				<line verbos="yes">make</line>
				<line verbos="yes">make install install-dev install-lib</line>
				<line verbos="yes">chmod -v 755 /usr/lib64/libattr.so</line>
				
				<line verbos="yes">mv -v /usr/lib/libattr.so.* /lib64</line>
				<line verbos="yes">ln -sfv ../../lib/$(readlink /usr/lib/libattr.so) /usr/lib/libattr.so</line>
            </action>
		</entry>
		
		<entry name="acl-2.2.52" type="package/src" seq="15" cdto="yes" download="no" extract="yes">
		    <filename>acl-2.2.52.src.tar.gz</filename>
		    <version>2.2.52</version>
		    <checksum type="md5">a61415312426e9c2212bd7dc7929abda</checksum>
            <action when="after" seq="1">
            	<line verbos="yes">sed -i -e 's|/@pkg_name@|&amp;-@pkg_version@|' include/builddefs.in</line>
				<line verbos="yes">sed -i "s:| sed.*::g" test/{sbits-restore,cp,misc}.test</line>
				<line verbos="yes">sed -i -e "/TABS-1;/a if (x > (TABS-1)) x = (TABS-1);" libacl/__acl_to_any_text.c</line>
				<line verbos="yes">
					./configure                \
						--prefix=/usr          \
						--disable-static       \
						--libexecdir=/usr/lib
				</line>
				<line verbos="yes">make</line>
				<line verbos="yes">make install install-dev install-lib</line>
				
				<line verbos="yes">chmod -v 755 /usr/lib/libacl.so</line>
				
				<line verbos="yes">mv -v /usr/lib64/libacl.so.* /lib64</line>
				<line verbos="yes">ln -sfv ../../lib/$(readlink /usr/lib/libacl.so) /usr/lib/libacl.so</line>
			</action>
		</entry>
		
		<entry name="libcap-2.25" type="package/src" seq="16" cdto="yes" download="no" extract="yes">
		    <filename>libcap-2.25.tar.xz</filename>
		    <version>2.25</version>
		    <checksum type="md5">6666b839e5d46c2ad33fc8aa2ceb5f77</checksum>
            <action when="after" seq="1">
            	<line verbos="yes">sed -i '/install.*STALIBNAME/d' libcap/Makefile</line>
				<line verbos="yes">make</line>
				<line verbos="yes">make RAISE_SETFCAP=no prefix=/usr install</line>
				<line verbos="yes">chmod -v 755 /usr/lib64/libcap.so</line>
				<line verbos="yes">mv -v /usr/lib64/libcap.so.* /lib64</line>
				<line verbos="yes">ln -sfv ../../lib/$(readlink /usr/lib/libcap.so) /usr/lib/libcap.so</line>
			</action>
		</entry>
		
		<entry name="sed-4.2.2" type="package/src" seq="17" cdto="yes" download="no" extract="yes">
		    <filename>sed-4.2.2.tar.bz2</filename>
		    <version>4.2.2</version>
		    <checksum type="md5">7ffe1c7cdc3233e1e0c4b502df253974</checksum>
            <action when="after" seq="1">
            	<line verbos="yes">
            		./configure                               \
            			--prefix=/usr                         \
            			--bindir=/bin                         \
            			--htmldir=/usr/share/doc/sed-4.2.2
            	</line>
				<line verbos="yes">make</line>
				<line verbos="yes">make html</line>
				<line verbos="yes">make install</line>
				<line verbos="yes">make -C doc install-html</line>
			</action>
		</entry>
		
		<entry name="shadow-4.2.1" type="package/src" seq="18" cdto="yes" download="no" extract="yes">
		    <filename>shadow-4.2.1.tar.xz</filename>
		    <version>4.2.1</version>
		    <checksum type="md5">2bfafe7d4962682d31b5eba65dba4fc8</checksum>
            <action when="after" seq="1">
            	<line verbos="yes">sed -i 's/groups$(EXEEXT) //' src/Makefile.in</line>
				<line verbos="yes">find man -name Makefile.in -exec sed -i 's/groups\.1 / /' {} \;</line>
				<line verbos="yes">find man -name Makefile.in -exec sed -i 's/getspnam\.3 / /' {} \;</line>
				<line verbos="yes">find man -name Makefile.in -exec sed -i 's/passwd\.5 / /' {} \;</line>
				<line verbos="yes">sed -i -e 's@#ENCRYPT_METHOD DES@ENCRYPT_METHOD SHA512@' -e 's@/var/spool/mail@/var/mail@' etc/login.defs</line>
				<line verbos="yes">sed -i 's/1000/999/' etc/useradd</line>
				<line verbos="yes">./configure --sysconfdir=/etc --with-group-name-max-length=32</line>
                <line verbos="yes">make &amp;&amp; make install</line>
				<line verbos="yes">mv -v /usr/bin/passwd /bin</line>
				
				
				<!-- SHADOW NEED'S SOME CONFIG HERE!  -->
				
				
			</action>
		</entry>
		
		<entry name="psmisc-22.21" type="package/src" seq="19" cdto="yes" download="no" extract="yes">
		    <filename>psmisc-22.21.tar.gz</filename>
		    <version>22.21</version>
		    <checksum type="md5">935c0fd6eb208288262b385fa656f1bf</checksum>
            <action when="after" seq="1">
            	<line verbos="yes">./configure --prefix=/usr</line>
                <line verbos="yes">make &amp;&amp; make install</line>
				<line verbos="yes">mv -v /usr/bin/fuser /bin</line>
				<line verbos="yes">mv -v /usr/bin/killall /bin</line>
			</action>
		</entry>
		
		<entry name="iana-etc-2.30" type="package/src" seq="20" cdto="yes" download="no" extract="yes">
		    <filename>iana-etc-2.30.tar.bz2</filename>
		    <version>2.30</version>
		    <checksum type="md5">3ba3afb1d1b261383d247f46cb135ee8</checksum>
            <action when="after" seq="1">
                <line verbos="yes">make &amp;&amp; make install</line>
			</action>
		</entry>
		
		<entry name="m4-1.4.17" type="package/src" seq="21" cdto="yes" download="no" extract="yes">
		    <filename>m4-1.4.17.tar.xz</filename>
		    <version>1.4.17</version>
		    <checksum type="md5">12a3c829301a4fd6586a57d3fcf196dc</checksum>
            <action when="after" seq="1">
				<line verbos="yes">./configure --prefix=/usr</line>
                <line verbos="yes">make &amp;&amp; make install</line>
			</action>
		</entry>
		
		<entry name="bison-3.0.4" type="package/src" seq="22" cdto="yes" download="no" extract="yes">
		    <filename>bison-3.0.4.tar.xz</filename>
		    <version>3.0.4</version>
		    <checksum type="md5">c342201de104cc9ce0a21e0ad10d4021</checksum>
            <action when="after" seq="1">
				<line verbos="yes">
					./configure                                 \
						--prefix=/usr                           \
						--docdir=/usr/share/doc/bison-3.0.4
				</line>
                <line verbos="yes">make &amp;&amp; make install</line>
			</action>
		</entry>
		
		<entry name="flex-2.6.1" type="package/src" seq="23" cdto="yes" download="no" extract="yes">
		    <filename>flex-2.6.1.tar.xz</filename>
		    <version>2.6.1</version>
		    <checksum type="md5">cd3c86290fc2676a641aefafeb10848a</checksum>
            <action when="after" seq="1">
				<line verbos="yes">
					./configure                              \
						--prefix=/usr                        \
						--docdir=/usr/share/doc/flex-2.6.1
				</line>
                <line verbos="yes">make &amp;&amp; make install</line>
				<line>ln -sv flex /usr/bin/lex</line>
			</action>
		</entry>
		
		<entry name="grep-2.25" type="package/src" seq="24" cdto="yes" download="no" extract="yes">
		    <filename>grep-2.25.tar.xz</filename>
		    <version>2.25</version>
		    <checksum type="md5">04e96b0e6f0fe6a180ae62c88fcd0af6</checksum>
            <action when="after" seq="1">
				<line verbos="yes">./configure --prefix=/usr --bindir=/bin</line>
                <line verbos="yes">make &amp;&amp; make install</line>
				<line></line>
			</action>
		</entry>
		
		<entry name="readline-6.3" type="package/src" seq="25" cdto="yes" download="no" extract="yes">
		    <filename>readline-6.3.tar.gz</filename>
		    <version>6.3</version>
		    <checksum type="md5">33c8fb279e981274f485fd91da77e94a</checksum>
            <action when="after" seq="1">
				<line verbos="yes">patch -Np1 -i $PROJECT__PKG/readline-6.3-upstream_fixes-3.patch</line>
				<line verbos="yes">sed -i '/MV.*old/d' Makefile.in</line>
				<line verbos="yes">sed -i '/{OLDSUFF}/c:' support/shlib-install</line>
				<line verbos="yes">
					./configure                               \
						--prefix=/usr                         \
						--disable-static                      \
						--docdir=/usr/share/doc/readline-6.3
				</line>
				<line verbos="yes">make SHLIB_LIBS=-lncurses</line>
				<line verbos="yes">make SHLIB_LIBS=-lncurses install</line>
				
				<line verbos="yes">mv -v /usr/lib64/lib{readline,history}.so.* /lib64</line>
				<line verbos="yes">ln -sfv ../../lib/$(readlink $PROJECT__RFS/usr/lib/libreadline.so) /usr/lib/libreadline.so</line>
				<line verbos="yes">ln -sfv ../../lib/$(readlink $PROJECT__RFS/usr/lib/libhistory.so ) /usr/lib/libhistory.so</line>
				
				<line verbos="yes">install -v -m644 doc/*.{ps,pdf,html,dvi} /usr/share/doc/readline-6.3</line>
			</action>
		</entry>
		
		<entry name="bash-4.3.30" type="package/src" seq="26" cdto="yes" download="no" extract="yes">
		    <filename>bash-4.3.30.tar.gz</filename>
		    <version>4.3.30</version>
		    <checksum type="md5">a27b3ee9be83bd3ba448c0ff52b28447</checksum>
            <action when="after" seq="1">
				<line verbos="yes">patch -Np1 -i $PROJECT__PKG/bash-4.3.30-upstream_fixes-3.patch</line>
				<line verbos="yes">
					./configure                              \
						--prefix=/usr                        \
						--docdir=/usr/share/doc/bash-4.3.30  \
						--without-bash-malloc                \
						--with-installed-readline
				</line>
                <line verbos="yes">make &amp;&amp; make install</line>
				<line verbos="yes">mv -vf /usr/bin/bash /bin</line>
				<line verbos="yes">ln -sf ./bash /bin/sh</line>
			</action>
		</entry>
		
		<entry name="bc-1.06.95" type="package/src" seq="27" cdto="yes" download="no" extract="yes">
		    <filename>bc-1.06.95.tar.bz2</filename>
		    <version>1.06.95</version>
		    <checksum type="md5">5126a721b73f97d715bb72c13c889035</checksum>
            <action when="after" seq="1">
				<line verbos="yes">patch -Np1 -i $PROJECT__PKG/bc-1.06.95-memory_leak-1.patch</line>
				<line verbos="yes">
					./configure                    \
						--prefix=/usr              \
						--with-readline            \
						--mandir=/usr/share/man    \
						--infodir=/usr/share/info
				</line>
                <line verbos="yes">make &amp;&amp; make install</line>
			</action>
		</entry>
		
		<entry name="libtool-2.4.5" type="package/src" seq="28" cdto="yes" download="no" extract="yes">
		    <filename>libtool-2.4.6.tar.xz</filename>
		    <version>2.4.6</version>
		    <checksum type="md5">1bfb9b923f2c1339b4d2ce1807064aa5</checksum>
            <action when="after" seq="1">
				<line verbos="yes">./configure --prefix=/usr</line>
                <line verbos="yes">make &amp;&amp; make install</line>
			</action>
		</entry>
		
		<entry name="gdbm-1.12" type="package/src" seq="29" cdto="yes" download="no" extract="yes">
		    <filename>gdbm-1.12.tar.gz</filename>
		    <version>1.12</version>
		    <checksum type="md5">9ce96ff4c99e74295ea19040931c8fb9</checksum>
            <action when="after" seq="1">
				<line verbos="yes">
					./configure                  \
						--prefix=/usr            \
						--disable-static         \
						--enable-libgdbm-compat
				</line>
                <line verbos="yes">make &amp;&amp; make install</line>
			</action>
		</entry>
		
		<entry name="gperf-3.0.4" type="package/src" seq="30" cdto="yes" download="no" extract="yes">
		    <filename>gperf-3.0.4.tar.gz</filename>
		    <version>1.12</version>
		    <checksum type="md5">c1f1db32fb6598d6a93e6e88796a8632</checksum>
            <action when="after" seq="1">
				<line verbos="yes">./configure --prefix=/usr --docdir=/usr/share/doc/gperf-3.0.4</line>
                <line verbos="yes">make &amp;&amp; make install</line>
			</action>
		</entry>
		
		<entry name="expat-2.2.0" type="package/src" seq="31" cdto="yes" download="no" extract="yes">
		    <filename>expat-2.2.0.tar.bz2</filename>
		    <version>2.2.0</version>
		    <checksum type="md5">2f47841c829facb346eb6e3fab5212e2</checksum>
            <action when="after" seq="1">
				<line verbos="yes">./configure --prefix=/usr --disable-static</line>
                <line verbos="yes">make &amp;&amp; make install</line>
				
				<line verbos="yes">install -v -dm755 /usr/share/doc/expat-2.2.0</line>
				<line verbos="yes">install -v -m644 doc/*.{html,png,css} /usr/share/doc/expat-2.2.0</line>
			</action>
		</entry>
		
		<entry name="inetutils-1.9.4" type="package/src" seq="32" cdto="yes" download="no" extract="yes">
		    <filename>inetutils-1.9.4.tar.xz</filename>
		    <version>1.9.4</version>
		    <checksum type="md5">87fef1fa3f603aef11c41dcc097af75e</checksum>
            <action when="after" seq="1">
				<line verbos="yes">
					./configure                 \
						--prefix=/usr           \
						--localstatedir=/var    \
						--disable-logger        \
						--disable-whois         \
						--disable-rcp           \
						--disable-rexec         \
						--disable-rlogin        \
						--disable-rsh           \
						--disable-servers
				</line>
                <line verbos="yes">make &amp;&amp; make install</line>
				
				<line verbos="yes">mv -v /usr/bin/{hostname,ping,ping6,traceroute} /bin</line>
				<line verbos="yes">mv -v /usr/bin/ifconfig /sbin</line>
			</action>
		</entry>
		
		<entry name="perl-5.24.0" type="package/src" seq="33" cdto="yes" download="no" extract="yes">
		    <filename>perl-5.24.0.tar.bz2</filename>
		    <version>5.24.0</version>
		    <checksum type="md5">99f39abe614b50719d9915431e54fc1e</checksum>
            <action when="after" seq="1">
            	<line verbos="yes">echo "127.0.0.1 localhost $(hostname)" > /etc/hosts</line>
            	<line verbos="yes">export BUILD_ZLIB=False</line>
            	<line verbos="yes">export BUILD_BZIP2=0</line>
				<line verbos="yes">
					sh Configure                        \
						-des                            \
						-Dprefix=/usr                   \
						-Dvendorprefix=/usr             \
						-Dman1dir=/usr/share/man/man1   \
						-Dman3dir=/usr/share/man/man3   \
						-Dpager="/usr/bin/less -isR"    \
						-Duseshrplib
				</line>
                <line verbos="yes">make &amp;&amp; make install</line>
				<line verbos="yes">unset BUILD_ZLIB BUILD_BZIP2</line>
			</action>
		</entry>
		
		<entry name="XML-Parser-2.44" type="package/src" seq="34" cdto="yes" download="no" extract="yes">
		    <filename>XML-Parser-2.44.tar.gz</filename>
		    <version>2.44</version>
		    <checksum type="md5">af4813fe3952362451201ced6fbce379</checksum>
            <action when="after" seq="1">
            	<line verbos="yes">perl Makefile.PL</line>
                <line verbos="yes">make &amp;&amp; make install</line>
			</action>
		</entry>
		
		<entry name="intltool-0.51.0" type="package/src" seq="35" cdto="yes" download="no" extract="yes">
		    <filename>intltool-0.51.0.tar.gz</filename>
		    <version>0.51.0</version>
		    <checksum type="md5">12e517cac2b57a0121cda351570f1e63</checksum>
            <action when="after" seq="1">
            	<line verbos="yes">sed -i 's:\\\${:\\\$\\{:' intltool-update.in</line>
				<line verbos="yes">./configure --prefix=/usr</line>
                <line verbos="yes">make &amp;&amp; make install</line>
				<line verbos="yes">install -v -Dm644 doc/I18N-HOWTO /usr/share/doc/intltool-0.51.0/I18N-HOWTO</line>
			</action>
		</entry>
		
		<entry name="autoconf-2.69" type="package/src" seq="36" cdto="yes" download="no" extract="yes">
		    <filename>autoconf-2.69.tar.xz</filename>
		    <version>2.69</version>
		    <checksum type="md5">50f97f4159805e374639a73e2636f22e</checksum>
            <action when="after" seq="1">
				<line verbos="yes">./configure --prefix=$PROJECT__RFS/usr</line>
                <line verbos="yes">make &amp;&amp; make install</line>
			</action>
		</entry>
		
		<entry name="automake-1.15" type="package/src" seq="37" cdto="yes" download="no" extract="yes">
		    <filename>automake-1.15.tar.xz</filename>
		    <version>1.15</version>
		    <checksum type="md5">9a1ddb0e053474d9d1105cfe39b0c48d</checksum>
            <action when="after" seq="1">
            	<line verbos="yes">sed -i 's:/\\\${:/\\\$\\{:' bin/automake.in</line>
				<line verbos="yes">
					./configure                                 \
						--prefix=/usr                           \
						--docdir=/usr/share/doc/automake-1.15
				</line>
                <line verbos="yes">make &amp;&amp; make install</line>
			</action>
		</entry>
		
		<entry name="xz-5.2.2" type="package/src" seq="38" cdto="yes" download="no" extract="yes">
		    <filename>xz-5.2.2.tar.xz</filename>
		    <version>5.2.2</version>
		    <checksum type="md5">e26772b69940085c0632589ab1d52e64</checksum>
            <action when="after" seq="1">
            	<line verbos="yes">sed -e '/mf\.buffer = NULL/a next->coder->mf.size = 0;' -i src/liblzma/lz/lz_encoder.c</line>
				<line verbos="yes">
					./configure                            \
						--prefix=/usr                      \
						--disable-static                   \
						--docdir=/usr/share/doc/xz-5.2.2
				</line>
                <line verbos="yes">make &amp;&amp; make install</line>
				
				<line verbos="yes">mv -v /usr/bin/{lzma,unlzma,lzcat,xz,unxz,xzcat} /bin</line>
				<line verbos="yes">mv -v /usr/lib/liblzma.so.* /lib</line>
				<line verbos="yes">ln -svf ../../lib/$(readlink /usr/lib/liblzma.so) /usr/lib/liblzma.so</line>
			</action>
		</entry>
		
		<entry name="kmod-23" type="package/src" seq="39" cdto="yes" download="no" extract="yes">
		    <filename>kmod-23.tar.xz</filename>
		    <version>23</version>
		    <checksum type="md5">3cf469f40ec2ed51f56ba45ea03793e7</checksum>
            <action when="after" seq="1">
				<line verbos="yes">
					./configure                  \
						--prefix=/usr            \
						--bindir=/bin            \
						--sysconfdir=/etc        \
						--with-rootlibdir=/lib   \
						--with-xz                \
						--with-zlib
				</line>
                <line verbos="yes">make &amp;&amp; make install</line>
				
				<line verbos="yes">
					for target in depmod insmod lsmod modinfo modprobe rmmod; do
						ln -sfv ../bin/kmod /sbin/$target
					done
				</line>
				<line verbos="yes">ln -sfv kmod /bin/lsmod</line>
			</action>
		</entry>
		
		<entry name="gettext-0.19.8.1" type="package/src" seq="40" cdto="yes" download="no" extract="yes">
		    <filename>gettext-0.19.8.1.tar.xz</filename>
		    <version>0.19.8.1</version>
		    <checksum type="md5">df3f5690eaa30fd228537b00cb7b7590</checksum>
            <action when="after" seq="1">
				<line verbos="yes">
					./configure                                    \
						--prefix=/usr                              \
						--disable-static                           \
						--docdir=/usr/share/doc/gettext-0.19.8.1
				</line>
                <line verbos="yes">make &amp;&amp; make install</line>
				
				<line verbos="yes">chmod -v 0755 /usr/lib/preloadable_libintl.so</line>
			</action>
		</entry>
		
		<entry name="systemd-231" type="package/src" seq="41" cdto="yes" download="no" extract="yes">
		    <filename>systemd-231.tar.xz</filename>
		    <version>231</version>
		    <checksum type="md5">2647855c8f9cdf824953f1091db2d2b2</checksum>
            <action when="after" seq="1">
            	<line verbos="yes">sed -i "s:blkid/::" $(grep -rl "blkid/blkid.h")</line>
				<line verbos="yes">
					cat > config.cache &lt;&lt;-EOF
					KILL=/bin/kill
					MOUNT_PATH=/bin/mount
					UMOUNT_PATH=/bin/umount
					HAVE_BLKID=1
					BLKID_LIBS="-lblkid"
					BLKID_CFLAGS="-I/tools/include/blkid"
					HAVE_LIBMOUNT=1
					MOUNT_LIBS="-lmount"
					MOUNT_CFLAGS="-I/tools/include/libmount"
					cc_cv_CFLAGS__flto=no
					XSLTPROC="/usr/bin/xsltproc"
				
					EOF
				</line>
				<line verbos="yes">
					./configure                               \
						--prefix=/usr		                  \
						--sysconfdir=/etc                     \
						--localstatedir=/var                  \
						--config-cache		                  \
						--with-rootprefix=		              \
						--with-rootlibdir=/lib	              \
						--enable-split-usr			          \
						--disable-firstboot			          \
						--disable-ldconfig			          \
						--disable-sysusers			          \
						--without-python			          \
						--with-default-dnssec=no              \
						--disable-gcrypt                      \
						--docdir=/usr/share/doc/systemd-231
				</line>
				<line verbos="yes">make LIBRARY_PATH=/tools/lib</line>
				<line verbos="yes">make LD_LIBRARY_PATH=/tools/lib install</line>
				
				<line verbos="yes">mv -v /usr/lib/libnss_{myhostname,mymachines,resolve}.so.2 /lib</line>
				<line verbos="yes">rm -rfv /usr/lib/rpm</line>
				
				<line verbos="yes">
					for tool in runlevel reboot shutdown poweroff halt telinit; do
						ln -sfv ../bin/systemctl /sbin/${tool}
					done
				</line>
				
				<line verbos="yes">ln -sfv ../lib/systemd/systemd /sbin/init</line>
				
				<line verbos="yes">systemd-machine-id-setup</line>
				
				<line verbos="yes">rm -fv /etc/resolv.conf</line>
				<line verbos="yes">ln -s ../lib/systemd/resolv.conf /etc/resolv.conf</line>
			</action>
		</entry>
		
		<entry name="procps-ng-3.3.12" type="package/src" seq="42" cdto="yes" download="no" extract="yes">
		    <filename>procps-ng-3.3.12.tar.xz</filename>
		    <version>3.3.12</version>
		    <checksum type="md5">957e42e8b193490b2111252e4a2b443c</checksum>
            <action when="after" seq="1">
				<line verbos="yes">
					./configure                                     \
						--prefix=/usr                               \
						--exec-prefix=                              \
						--libdir=/usr/lib                           \
						--docdir=/usr/share/doc/procps-ng-3.3.12    \
						--disable-static                            \
						--disable-kill                              \
						--with-systemd
				</line>
                <line verbos="yes">make &amp;&amp; make install</line>
				
				<line verbos="yes">mv -v /usr/lib/libprocps.so.* /lib</line>
				<line verbos="yes">ln -sfv ../../lib/$(readlink /usr/lib/libprocps.so) /usr/lib/libprocps.so</line>
			</action>
		</entry>
		
		<entry name="e2fsprogs-1.43.1" type="package/src" seq="43" cdto="yes" download="no" extract="yes">
		    <filename>e2fsprogs-1.43.1.tar.gz</filename>
		    <version>1.43.1</version>
		    <checksum type="md5">1775f3f0eed9dee1c5f39e08d1964a97</checksum>
            <action when="after" seq="1">
            	<line>mkdir -v build</line>
            	<line>cd build</line>
				<line verbos="yes">
					LIBS=-L/tools/lib                       \
					CFLAGS=-I/tools/include                 \
					PKG_CONFIG_PATH=/tools/lib/pkgconfig    \
					../configure                            \
						--prefix=/usr                       \
						--bindir=/bin                       \
						--with-root-prefix=""               \
						--enable-elf-shlibs                 \
						--disable-libblkid                  \
						--disable-libuuid                   \
						--disable-uuidd                     \
						--disable-fsck
				</line>
                <line verbos="yes">make &amp;&amp; make install</line>
				
				<line verbos="yes">make install-libs</line>
				<line verbos="yes">chmod -v u+w /usr/lib/{libcom_err,libe2p,libext2fs,libss}.a</line>
			</action>
		</entry>
		
		<entry name="coreutils-8.25" type="package/src" seq="44" cdto="yes" download="no" extract="yes">
		    <filename>coreutils-8.25.tar.xz</filename>
		    <version>8.25</version>
		    <checksum type="md5">070e43ba7f618d747414ef56ab248a48</checksum>
            <action when="after" seq="1">
            	<line verbos="yes">patch -Np1 -i $PROJECT__PKG/coreutils-8.25-i18n-2.patch</line>
				<line verbos="yes">FORCE_UNSAFE_CONFIGURE=1 ./configure --prefix=/usr --enable-no-install-program=kill,uptime</line>
				<line verbos="yes">FORCE_UNSAFE_CONFIGURE=1 make</line>
				<line verbos="yes">make install</line>
				
				<line verbos="yes">mv -v /usr/bin/{cat,chgrp,chmod,chown,cp,date,dd,df,echo} /bin</line>
				<line verbos="yes">mv -v /usr/bin/{false,ln,ls,mkdir,mknod,mv,pwd,rm} /bin</line>
				<line verbos="yes">mv -v /usr/bin/{rmdir,stty,sync,true,uname} /bin</line>
				<line verbos="yes">mv -v /usr/bin/chroot /usr/sbin</line>
				<line verbos="yes">mv -v /usr/share/man/man1/chroot.1 /usr/share/man/man8/chroot.8</line>
				
				<line verbos="yes">sed -i s/\"1\"/\"8\"/1 /usr/share/man/man8/chroot.8</line>
				<line verbos="yes">mv -v /usr/bin/{head,sleep,nice,test,[} /bin</line>
			</action>
		</entry>
		
		<entry name="diffutils-3.5" type="package/src" seq="45" cdto="yes" download="no" extract="yes">
		    <filename>diffutils-3.5.tar.xz</filename>
		    <version>3.5</version>
		    <checksum type="md5">569354697ff1cfc9a9de3781361015fa</checksum>
            <action when="after" seq="1">
            	<line verbos="yes">sed -i 's:= @mkdir_p@:= /bin/mkdir -p:' po/Makefile.in.in</line>
				<line verbos="yes">./configure --prefix=/usr</line>
                <line verbos="yes">make &amp;&amp; make install</line>
				
				<line>set +e</line>
				
				<line verbos="yes">mv -v /usr/bin/{cat,chgrp,chmod,chown,cp,date,dd,df,echo} /bin</line>
				<line verbos="yes">mv -v /usr/bin/{false,ln,ls,mkdir,mknod,mv,pwd,rm} /bin</line>
				<line verbos="yes">mv -v /usr/bin/{rmdir,stty,sync,true,uname} /bin</line>
				<line verbos="yes">mv -v /usr/bin/chroot /usr/sbin</line>
				<line verbos="yes">mv -v /usr/share/man/man1/chroot.1 /usr/share/man/man8/chroot.8</line>
				<line verbos="yes">sed -i s/\"1\"/\"8\"/1 /usr/share/man/man8/chroot.8</line>
				<line verbos="yes">mv -v /usr/bin/{head,sleep,nice,test,[} /bin</line>
				
				<line>set -e</line>
			</action>
		</entry>
		
		<entry name="gawk-4.1.3" type="package/src" seq="46" cdto="yes" download="no" extract="yes">
		    <filename>gawk-4.1.3.tar.xz</filename>
		    <version>4.1.3</version>
		    <checksum type="md5">97f8f44149ea9b9e94be97f68988be87</checksum>
            <action when="after" seq="1">
				<line verbos="yes">./configure --prefix=/usr</line>
                <line verbos="yes">make &amp;&amp; make install</line>
			</action>
		</entry>
		
		<entry name="findutils-4.6.0" type="package/src" seq="47" cdto="yes" download="no" extract="yes">
		    <filename>findutils-4.6.0.tar.gz</filename>
		    <version>4.6.0</version>
		    <checksum type="md5">9936aa8009438ce185bea2694a997fc1</checksum>
            <action when="after" seq="1">
				<line verbos="yes">./configure --prefix=/usr</line>
                <line verbos="yes">make &amp;&amp; make install</line>
				<line verbos="yes">mv -v /usr/bin/find /bin</line>
				<line verbos="yes">sed -i 's|find:=${BINDIR}|find:=/bin|' /usr/bin/updatedb</line>
			</action>
		</entry>
		
		<entry name="groff-1.22.3" type="package/src" seq="48" cdto="yes" download="no" extract="yes">
		    <filename>groff-1.22.3.tar.gz</filename>
		    <version>1.22.3</version>
		    <checksum type="md5">cc825fa64bc7306a885f2fb2268d3ec5</checksum>
            <action when="after" seq="1">
				<line verbos="yes">PAGE='A4' ./configure --prefix=/usr</line>
                <line verbos="yes">make &amp;&amp; make install</line>
			</action>
		</entry>
		
		<entry name="grub-2.02~beta3" type="package/src" seq="49" cdto="yes" download="no" extract="yes">
		    <filename>grub-2.02~beta3.tar.xz</filename>
		    <version>2.02~beta3</version>
		    <checksum type="md5">ab399fc6f74a97d66ff77f04b743149c</checksum>
            <action when="after" seq="1">
				<line verbos="yes">
					./configure             \
						--prefix=/usr       \
						--sbindir=/sbin     \
						--sysconfdir=/etc   \
						--disable-efiemu    \
						--disable-werror
				</line>
                <line verbos="yes">make &amp;&amp; make install</line>
			</action>
		</entry>
		
		<entry name="less-481" type="package/src" seq="50" cdto="yes" download="no" extract="yes">
		    <filename>less-481.tar.gz</filename>
		    <version>481</version>
		    <checksum type="md5">50ef46065c65257141a7340123527767</checksum>
            <action when="after" seq="1">
            	<line verbos="yes">./configure --prefix=/usr --sysconfdir=/etc</line>
                <line verbos="yes">make &amp;&amp; make install</line>
			</action>
		</entry>
		
		<entry name="gzip-1.8" type="package/src" seq="51" cdto="yes" download="no" extract="yes">
		    <filename>gzip-1.8.tar.xz</filename>
		    <version>1.8</version>
		    <checksum type="md5">f7caabb65cddc1a4165b398009bd05b9</checksum>
            <action when="after" seq="1">
            	<line verbos="yes">./configure --prefix=/usr</line>
                <line verbos="yes">make &amp;&amp; make install</line>
				<line verbos="yes">mv -v /usr/bin/gzip /bin</line>
			</action>
		</entry>
		
		<entry name="iproute2-4.7.0" type="package/src" seq="52" cdto="yes" download="no" extract="yes">
		    <filename>iproute2-4.7.0.tar.xz</filename>
		    <version>4.7.0</version>
		    <checksum type="md5">d4b205830cdc2702f8a0cbd6232129cd</checksum>
            <action when="after" seq="1">
            	<line verbos="yes">sed -i /ARPD/d Makefile</line>
				<line verbos="yes">sed -i 's/arpd.8//' man/man8/Makefile</line>
				<line verbos="yes">sed -i 's/m_ipt.o//' tc/Makefile</line>
				<line verbos="yes">make</line>
				<line verbos="yes">make DOCDIR=/usr/share/doc/iproute2-4.7.0 install</line>
			</action>
		</entry>
		
		<entry name="kbd-2.0.3" type="package/src" seq="53" cdto="yes" download="no" extract="yes">
		    <filename>kbd-2.0.3.tar.xz</filename>
		    <version>2.0.3</version>
		    <checksum type="md5">231b46e7142eb41ea3ae06d2ded3c208</checksum>
            <action when="after" seq="1">
            	<line verbos="yes">patch -Np1 -i $PROJECT__PKG/kbd-2.0.3-backspace-1.patch</line>
				<line verbos="yes">PKG_CONFIG_PATH=/tools/lib/pkgconfig ./configure --prefix=/usr --disable-vlock</line>
                <line verbos="yes">make &amp;&amp; make install</line>
			</action>
		</entry>
		
		<entry name="libpipeline-1.4.1" type="package/src" seq="54" cdto="yes" download="no" extract="yes">
		    <filename>libpipeline-1.4.1.tar.gz</filename>
		    <version>1.4.1</version>
		    <checksum type="md5">e54590ec68d6c1239f67b5b44e92022c</checksum>
            <action when="after" seq="1">
            	<line verbos="yes">./configure --prefix=/usr</line>
                <line verbos="yes">make &amp;&amp; make install</line>
			</action>
		</entry>
		
		<entry name="make-4.2.1" type="package/src" seq="55" cdto="yes" download="no" extract="yes">
		    <filename>make-4.2.1.tar.bz2</filename>
		    <version>4.2.1</version>
		    <checksum type="md5">15b012617e7c44c0ed482721629577ac</checksum>
            <action when="after" seq="1">
            	<line verbos="yes">./configure --prefix=/usr</line>
                <line verbos="yes">make &amp;&amp; make install</line>
			</action>
		</entry>
		
		<entry name="patch-2.7.5" type="package/src" seq="56" cdto="yes" download="no" extract="yes">
		    <filename>patch-2.7.5.tar.xz</filename>
		    <version>2.7.5</version>
		    <checksum type="md5">e3da7940431633fb65a01b91d3b7a27a</checksum>
            <action when="after" seq="1">
            	<line verbos="yes">./configure --prefix=/usr</line>
                <line verbos="yes">make &amp;&amp; make install</line>
			</action>
		</entry>
		
		<entry name="dbus-1.10.10" type="package/src" seq="57" cdto="yes" download="no" extract="yes">
		    <filename>dbus-1.10.10.tar.gz</filename>
		    <version>1.10.10</version>
		    <checksum type="md5">495676d240eb982921b3ad1343526849</checksum>
            <action when="after" seq="1">
            	<line verbos="yes">
					./configure                                 \
						--prefix=/usr                           \
						--sysconfdir=/etc                       \
						--localstatedir=/var                    \
						--disable-static                        \
						--disable-doxygen-docs                  \
						--disable-xml-docs                      \
						--docdir=/usr/share/doc/dbus-1.10.10    \
						--with-console-auth-dir=/run/console
            	</line>
                <line verbos="yes">make &amp;&amp; make install</line>
				<line verbos="yes">mv -v /usr/lib/libdbus-1.so.* /lib</line>
				<line verbos="yes">ln -sfv ../../lib/$(readlink /usr/lib/libdbus-1.so) /usr/lib/libdbus-1.so</line>
				<line verbos="yes">ln -sfv /etc/machine-id /var/lib/dbus</line>
			</action>
		</entry>
		
		<entry name="util-linux-2.28.1" type="package/src" seq="58" cdto="yes" download="no" extract="yes">
		    <filename>util-linux-2.28.1.tar.xz</filename>
		    <version>2.28.1</version>
		    <checksum type="md5">e2d863efaf4fd330a42c5efe9f1b02b4</checksum>
            <action when="after" seq="1">
            	<line verbos="yes">mkdir -pv /var/lib/hwclock</line>
            	<line verbos="yes">
					./configure ADJTIME_PATH=/var/lib/hwclock/adjtime   \
						--docdir=/usr/share/doc/util-linux-2.28.1       \
						--disable-chfn-chsh                             \
						--disable-login                                 \
						--disable-nologin                               \
						--disable-su                                    \
						--disable-setpriv                               \
						--disable-runuser                               \
						--disable-pylibmount                            \
						--disable-static                                \
						--without-python                                \
						--enable-libmount-force-mountinfo
            	</line>
                <line verbos="yes">make &amp;&amp; make install</line>
			</action>
		</entry>
		
		<entry name="man-db-2.7.5" type="package/src" seq="59" cdto="yes" download="no" extract="yes">
		    <filename>man-db-2.7.5.tar.xz</filename>
		    <version>2.7.5</version>
		    <checksum type="md5">37da0bb0400cc7b640f33c26f6052202</checksum>
            <action when="after" seq="1">
            	<line verbos="yes">mkdir -pv /var/lib/hwclock</line>
            	<line verbos="yes">
					./configure                                 \
						--prefix=/usr                           \
						--docdir=/usr/share/doc/man-db-2.7.5    \
						--sysconfdir=/etc                       \
						--disable-setuid                        \
						--with-browser=/usr/bin/lynx            \
						--with-vgrind=/usr/bin/vgrind           \
						--with-grap=/usr/bin/grap
            	</line>
                <line verbos="yes">make &amp;&amp; make install</line>
				<line verbos="yes">sed -i "s:man root:root root:g" /usr/lib/tmpfiles.d/man-db.conf</line>
			</action>
		</entry>
		
		<entry name="tar-1.29.tar.xz" type="package/src" seq="60" cdto="yes" download="no" extract="yes">
		    <filename>tar-1.29.tar.xz</filename>
		    <version>1.29</version>
		    <checksum type="md5">a1802fec550baaeecff6c381629653ef</checksum>
            <action when="after" seq="1">
            	<line verbos="yes">FORCE_UNSAFE_CONFIGURE=1 ./configure --prefix=/usr --bindir=/bin</line>
                <line verbos="yes">make &amp;&amp; make install</line>
				<line verbos="yes">make -C doc install-html docdir=/usr/share/doc/tar-1.29</line>
			</action>
		</entry>
		
		<entry name="texinfo-6.1" type="package/src" seq="61" cdto="yes" download="no" extract="yes">
		    <filename>texinfo-6.1.tar.xz</filename>
		    <version>6.1</version>
		    <checksum type="md5">1d7ec1888fae00730693597852b00cde</checksum>
            <action when="after" seq="1">
            	<line verbos="yes">./configure --prefix=/usr --disable-static</line>
                <line verbos="yes">make &amp;&amp; make install</line>
				<line verbos="yes">make TEXMF=/usr/share/texmf install-tex</line>
			</action>
		</entry>
		
		<entry name="libgpg-error-1.26" type="package/src" seq="62" cdto="yes" download="no" extract="yes">
			<link>ftp://ftp.gnupg.org/gcrypt/libgpg-error/libgpg-error-1.26.tar.bz2</link>
		    <filename>libgpg-error-1.26.tar.bz2</filename>
		    <version>1.26</version>
		    <checksum type="md5">97456709dbbcbb69354317ffe3e347cd</checksum>
            <action when="after" seq="1">
            	<line verbos="yes">./configure --prefix=/usr</line>
                <line verbos="yes">make &amp;&amp; make install</line>
            </action>
		</entry>
		
		<entry name="libgcrypt-1.7.3" type="package/src" seq="63" cdto="yes" download="no" extract="yes">
			<link>ftp://ftp.gnupg.org/gcrypt/libgcrypt/libgcrypt-1.7.3.tar.bz2</link>
		    <filename>libgcrypt-1.7.3.tar.bz2</filename>
		    <version>1.7.3</version>
		    <checksum type="md5">c869e542cc13a1c28d8055487bf7f5c4</checksum>
            <action when="after" seq="1">
            	<line verbos="yes">./configure --prefix=/usr</line>
                <line verbos="yes">make &amp;&amp; make install</line>
            </action>
		</entry>
		
		<entry name="Python-2.7.12.tar.xz" type="package/src" seq="64" cdto="yes" download="no" extract="yes">
			<link>https://www.python.org/ftp/python/2.7.12/Python-2.7.12.tar.xz</link>
		    <filename>Python-2.7.12.tar.xz</filename>
		    <version>2.7.12</version>
		    <checksum type="md5">57dffcee9cee8bb2ab5f82af1d8e9a69</checksum>
            <action when="after" seq="1">
            	<line verbos="yes">
					./configure  --prefix=/usr           \
								--enable-shared          \
								--with-system-expat      \
								--enable-unicode=ucs4
            	</line>
                <line verbos="yes">make &amp;&amp; make install</line>
                <line verbos="yes">chmod -v 755 /usr/lib/libpython2.7.so.1.0</line>
            </action>
		</entry>
		
		<entry name="libxml2-2.9.4" type="package/src" seq="65" cdto="yes" download="no" extract="yes">
			<link>http://xmlsoft.org/sources/libxml2-2.9.4.tar.gz</link>
		    <filename>libxml2-2.9.4.tar.gz</filename>
		    <version>2.9.4</version>
		    <checksum type="md5">ae249165c173b1ff386ee8ad676815f5</checksum>
            <action when="after" seq="1">
            	<line verbos="yes">sed -i "/seems to be moved/s/^/#/" ltmain.sh</line>
				<line verbos="yes">./configure --prefix=/usr --disable-static --with-history</line>
                <line verbos="yes">make &amp;&amp; make install</line>
                <line verbos="yes">cp -R /usr/include/libxml2/libxml /usr/include/</line>
            </action>
		</entry>
		
		<entry name="libxslt-1.1.29" type="package/src" seq="66" cdto="yes" download="no" extract="yes">
			<link>http://xmlsoft.org/sources/libxslt-1.1.29.tar.gz</link>
		    <filename>libxslt-1.1.29.tar.gz</filename>
		    <version>1.1.29</version>
		    <checksum type="md5">a129d3c44c022de3b9dcf6d6f288d72e</checksum>
            <action when="after" seq="1">
            	<line verbos="yes">sed -i "/seems to be moved/s/^/#/" ltmain.sh</line>
				<line verbos="yes">./configure --prefix=/usr --disable-static</line>
                <line verbos="yes">make &amp;&amp; make install</line>
            </action>
		</entry>
		
		<entry name="xmlstarlet-1.6.1" type="package/src" seq="67" cdto="yes" download="no" extract="yes">
			<link>https://sourceforge.net/projects/xmlstar/files/xmlstarlet/1.6.1/xmlstarlet-1.6.1.tar.gz/download</link>
		    <filename>xmlstarlet-1.6.1.tar.gz</filename>
		    <version>1.6.1</version>
		    <checksum type="md5">f3c5dfa3b1a2ee06cd57c255cc8b70a0</checksum>
            <action when="after" seq="1">
                <line verbos="yes">./configure --prefix=/usr --enable-ipv6=no</line>
                <line verbos="yes">make &amp;&amp; make install</line>
                <line verbos="yes">ln -sf ./xml /usr/bin/xmlstarlet</line>
            </action>
		</entry>

		<entry name="vim-7.4" type="package/src" seq="68" cdto="yes" download="no" extract="yes">
		    <filename>vim-7.4.tar.bz2</filename>
		    <version>7.4</version>
		    <checksum type="md5">607e135c559be642f210094ad023dc65</checksum>
            <action when="after" seq="1">
            	<line verbos="yes">echo '#define SYS_VIMRC_FILE "/etc/vimrc"' >> src/feature.h</line>
            	<line verbos="yes">./configure --prefix=/usr --disable-static</line>
                <line verbos="yes">make &amp;&amp; make install</line>
				<line verbos="yes">ln -sv vim /usr/bin/vi</line>
				<line verbos="yes">
					for L in /usr/share/man/{,*/}man1/vim.1; do
						ln -sv vim.1 $(dirname $L)/vi.1
					done
				</line>
				<line verbos="yes">ln -sv ../vim/vim74/doc /usr/share/doc/vim-7.4</line>
				<line verbos="yes">
					cat > /etc/vimrc &lt;&lt;-EOF
					" Begin /etc/vimrc
					set nocompatible
					set backspace=2
					syntax on
					if (&amp;term == "iterm") || (&amp;term == "putty")
					set background=dark
					endif
					" End /etc/vimrc
					
					EOF
				</line>
			</action>
		</entry>
		
		<entry name="linux-4.4.6" type="package/src" seq="69" cdto="yes" download="no" extract="yes">
		    <filename>linux-4.4.6.tar.xz</filename>
		    <version>4.4.6</version>
		    <checksum type="md5">efc822dad2149e40cc908718a4fea1d3</checksum>
            <action when="after" seq="1">
            	<line verbos="yes">make mrproper</line>
				<line verbos="yes">make defconfig</line>
				<line verbos="yes">make</line>
				<line verbos="yes">make modules_install</line>
				
				<line verbos="yes">cp -v arch/x86/boot/bzImage /boot/vmlinuz</line>
				<line verbos="yes">cp -v System.map /boot/System.map-4.4.6</line>
				<line verbos="yes">cp -v .config /boot/config-4.4.6</line>
				
				<line verbos="yes">install -d /usr/share/doc/linux-4.4.6</line>
				<line verbos="yes">cp -r Documentation/* /usr/share/doc/linux-4.4.6</line>
				<line verbos="yes">install -v -m755 -d /etc/modprobe.d</line>
				<line verbos="yes">
					cat > /etc/modprobe.d/usb.conf &lt;&lt;-EOF
					# Begin /etc/modprobe.d/usb.conf
					install ohci_hcd /sbin/modprobe ehci_hcd ; /sbin/modprobe -i ohci_hcd ; true
					install uhci_hcd /sbin/modprobe ehci_hcd ; /sbin/modprobe -i uhci_hcd ; true
					# End /etc/modprobe.d/usb.conf
					EOF
				</line>
			</action>
		</entry>
	</phase>
	
</build>

